<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coffee Like - Кофейня с душой</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Шапка -->
    <header>
        <div class="container header-container">
            <a href="#home" class="logo">
    <img src="img/лого.png" alt="COFFEE LIKE" class="logo-img">
    <span class="logo-text">COFFEE LIKE</span>
</a>
            <nav>
                <ul>
                    <li><a href="#home" class="nav-link active" data-page="home">Главная</a></li>
                    <li><a href="#menu" class="nav-link" data-page="menu">Меню</a></li>
                    <li><a href="#about" class="nav-link" data-page="about">О нас</a></li>
                    <li><a href="#coffee-facts" class="nav-link" data-page="coffee-facts">Это интересно</a></li>
                    <li><a href="#game" class="nav-link" data-page="game">Какой кофе вам подходит?</a></li>
                    <li><a href="#profile" class="nav-link" data-page="profile">Личный кабинет</a></li>
                </ul>
            </nav>
            <div class="header-buttons">
                <button class="btn btn-outline" id="login-btn">Войти</button>
                <div class="cart-icon" id="cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Главная страница -->
    <section id="home-page" class="page active">
        <!-- Герой секция -->
        <section class="hero">
            <div class="container">
                <h1>Кофе, который вы полюбите</h1>
                <p>Насладитесь искусно приготовленным кофе и уютной атмосферой в наших кофейнях</p>
                <button class="btn btn-primary" id="go-to-menu">Посмотреть меню</button>
            </div>
        </section>

        <!-- Преимущества -->
        <section class="container" style="padding: 80px 0;">
            <div class="facts-grid">
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-coffee"></i>
                    </div>
                    <h3 class="fact-title">Свежие зерна</h3>
                    <p>Мы используем только свежеобжаренные зерна арабики из лучших регионов мира</p>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <h3 class="fact-title">С любовью к делу</h3>
                    <p>Наши бариста вкладывают душу в каждый напиток, который мы готовим для вас</p>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-award"></i>
                    </div>
                    <h3 class="fact-title">Качество</h3>
                    <p>Мы тщательно контролируем каждый этап приготовления, чтобы вы получили идеальный напиток</p>
                </div>
            </div>
        </section>
    </section>

    <!-- Страница меню -->
    <section id="menu-page" class="page">
        <!-- Навигация по меню -->
        <section class="menu-nav">
            <div class="container menu-nav-container">
                <div class="menu-nav-item active" data-target="classic">Классические напитки</div>
                <div class="menu-nav-item" data-target="seasonal">Сезонные напитки</div>
                <div class="menu-nav-item" data-target="signature">Фирменные напитки</div>
                <div class="menu-nav-item" data-target="tea">Авторские чаи</div>
                <div class="menu-nav-item" data-target="cold">Холодное меню</div>
                <div class="menu-nav-item" data-target="combo">Комбо набор</div>
            </div>
        </section>

        <!-- Секции меню -->
        <main class="container">
            <!-- Классические напитки -->
            <section class="menu-section active" id="classic">
                <h2 class="section-title">Классические напитки</h2>
                <div class="menu-grid" id="classic-menu">
                    <!-- Контент в JavaScript -->
                </div>
            </section>

            <!-- Сезонные напитки -->
            <section class="menu-section" id="seasonal">
                <h2 class="section-title">Сезонные напитки Осень-Зима</h2>
                <div class="menu-grid" id="seasonal-menu">
                    <!-- Контент в JavaScript -->
                </div>
            </section>

            <!-- Фирменные напитки -->
            <section class="menu-section" id="signature">
                <h2 class="section-title">Фирменные напитки</h2>
                <div class="menu-grid" id="signature-menu">
                    <!-- Контент в JavaScript -->
                </div>
            </section>

            <!-- Авторские чаи -->
            <section class="menu-section" id="tea">
                <h2 class="section-title">Авторские чаи</h2>
                <div class="menu-grid" id="tea-menu">
                    <!-- Контент в JavaScript -->
                </div>
            </section>

            <!-- Холодное меню -->
            <section class="menu-section" id="cold">
                <h2 class="section-title">Холодные напитки</h2>
                <div class="menu-grid" id="cold-menu">
                    <!-- Контент в JavaScript -->
                </div>
            </section>

            <!-- Комбо набор -->
            <section class="menu-section" id="combo">
                <h2 class="section-title">Комбо набор</h2>
                <div class="menu-grid" id="combo-menu">
                    <!-- Контент в JavaScript -->
                </div>
            </section>
        </main>
    </section>

    <!-- Страница "О нас" -->
    <section id="about-page" class="page">
        <div class="container">
            <h2 class="section-title">О кофейне COFFEE LIKE</h2>
            <div style="max-width: 800px; margin: 0 auto;">
                <p style="margin-bottom: 20px; font-size: 18px;">
                    COFFEE LIKE - это не просто кофейня, это место, где рождаются эмоции и воспоминания. 
                    Мы создали пространство, в котором каждый может найти свой идеальный напиток и провести время с удовольствием.
                </p>
                <p style="margin-bottom: 20px; font-size: 18px;">
                    Наша история началась в 2018 году с маленькой кофейни в центре Барнаула. 
                    С тех пор мы выросли в сеть из 8 кофеен, но сохранили наше главное правило - 
                    относиться к каждому гостю как к другу и готовить каждый напиток с любовью.
                </p>
                
                <h3 style="margin: 40px 0 20px; color: var(--primary);">Наши принципы</h3>
                <div class="facts-grid">
                    <div class="fact-card">
                        <div class="fact-icon">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h3 class="fact-title">Качественные зерна</h3>
                        <p>Мы используем исключительно свежеобжаренное зерно. Наша команда лично сотрудничает с обжарщиками, чтобы подобрать профиль обжарки, который раскрывает лучшие черты каждого сорта.</p>
                    </div>
                    <div class="fact-card">
                        <div class="fact-icon">
                            <i class="fas fa-user-friends"></i>
                        </div>
                        <h3 class="fact-title">Команда профессионалов</h3>
                        <p>Наши бариста регулярно проходят обучение и знают всё о тонкостях приготовления кофе</p>
                    </div>
                    <div class="fact-card">
                        <div class="fact-icon">
                            <i class="fas fa-recycle"></i>
                        </div>
                        <h3 class="fact-title">Экологичность</h3>
                        <p>Мы используем биоразлагаемые стаканчики и внедряем программы переработки отходов</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Страница "Факты о кофе" -->
    <section id="coffee-facts-page" class="page">
        <div class="container">
            <h2 class="section-title">Интересные факты о кофе</h2>
            <p style="text-align: center; max-width: 800px; margin: 0 auto 40px; font-size: 18px;">
                Кофе - это не просто напиток, это целая культура со своей историей, традициями и интересными особенностями. 
                Узнайте больше о том, что вы пьете каждый день!
            </p>
            
            <div class="facts-grid">
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-globe-americas"></i>
                    </div>
                    <h3 class="fact-title">Происхождение кофе</h3>
                    <p>Согласно легенде, тонизирующие свойства кофе были обнаружены эфиопским пастухом Калди, который заметил, что его козы становятся энергичными после поедания кофейных ягод.</p>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-wine-bottle"></i>
                    </div>
                    <h3 class="fact-title">Второй по популярности товар</h3>
                    <p>Кофе является вторым самым продаваемым товаром в мире после нефти. Ежедневно в мире выпивается более 2,25 миллиардов чашек кофе.</p>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3 class="fact-title">Польза для здоровья</h3>
                    <p>Умеренное потребление кофе снижает риск развития диабета 2 типа, болезни Паркинсона и деменции. Кофе также богат антиоксидантами.</p>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-temperature-high"></i>
                    </div>
                    <h3 class="fact-title">Идеальная температура</h3>
                    <p>Оптимальная температура для заваривания кофе - 90-96°C. Слишком горячая вода может сделать кофе горьким, а слишком холодная - не экстрагирует все вкусовые вещества.</p>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <h3 class="fact-title">Высота имеет значение</h3>
                    <p>Лучший кофе растет на высоте от 1000 до 2000 метров над уровнем моря. Чем выше растет кофе, тем медленнее созревают ягоды и тем сложнее и насыщеннее становится вкус.</p>
                </div>
                <div class="fact-card">
                    <div class="fact-icon">
                        <i class="fas fa-lemon"></i>
                    </div>
                    <h3 class="fact-title">Кофе с лимоном</h3>
                    <p>В Скандинавии популярен напиток "кофе с лимоном", который называется kaffelemonad. Лимонный сок смягчает горечь и подчеркивает вкусовые нотки кофе.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Страница "Кофейный тест" -->
    <section id="game-page" class="page">
        <div class="container">
            <h2 class="section-title">Кофейный тест</h2>
            <p style="text-align: center; max-width: 800px; margin: 0 auto 40px;">
                Ответьте на 5 вопросов, и мы подберем для вас идеальный напиток из нашего меню!
            </p>
            
            <div class="quiz-container">
                <div class="quiz-progress">
                    <div class="quiz-progress-bar" id="quiz-progress-bar"></div>
                </div>
                
                <div id="quiz-content">
                    <!-- Контент теста в JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Страница "Личный кабинет" -->
    <section id="profile-page" class="page">
        <div class="container">
            <h2 class="section-title">Личный кабинет</h2>
            
            <div class="profile-container">
                <div class="profile-sidebar">
                    <div class="profile-info">
                        <div class="profile-avatar">
                            <i class="fas fa-user"></i>
                        </div>
                        <h3 id="user-name">Гость</h3>
                        <p id="user-phone"></p>
                    </div>
                    
                    <ul class="profile-menu">
                        <li><a href="#" class="profile-menu-link active" data-tab="bonuses">Мои бонусы</a></li>
                        <li><a href="#" class="profile-menu-link" data-tab="orders">История заказов</a></li>
                        <li><a href="#" class="profile-menu-link" data-tab="rules">Бонусная программа</a></li>
                        <li><a href="#" class="profile-menu-link" id="logout-btn">Выйти</a></li>
                    </ul>
                </div>
                
                <div class="profile-content">
                    <div id="bonuses-tab" class="profile-tab active">
                        <h3 style="margin-bottom: 20px;">Мои бонусы</h3>
                        <div class="bonus-card">
                            <h4>Накопленные бонусы</h4>
                            <div class="bonus-amount" id="bonus-amount">150</div>
                            <p>1 бонус = 1 рубль при оплате заказов</p>
                        </div>
                        
                        <div class="bonus-info">
                            <h4 style="margin: 30px 0 15px;">Как получить бонусы?</h4>
                            <ul style="list-style-type: disc; padding-left: 20px;">
                                <li>Бонусы за каждый напиток в заказе</li>
                                <li>+20% бонусов в день рождения</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div id="orders-tab" class="profile-tab">
                        <h3 style="margin-bottom: 20px;">История заказов</h3>
                        <div class="orders-list" id="orders-list">
                            <!-- Контент в JavaScript -->
                        </div>
                    </div>
                    
                    <div id="rules-tab" class="profile-tab">
                        <h3 style="margin-bottom: 20px;">Бонусная программа</h3>
                        <div class="bonus-rules">
                            <h4 style="margin: 20px 0 15px;">Как это работает?</h4>
                            <p>Наша бонусная программа позволяет вам копить бонусы за каждую покупку и использовать их для оплаты будущих заказов.</p>
                            
                            <h4 style="margin: 25px 0 15px;">Правила программы:</h4>
                            <ul style="list-style-type: disc; padding-left: 20px; margin-bottom: 20px;">
                                <li>Регистрируйтесь в программе, указав номер телефона</li>
                                <li>Получайте кэшбэк в размере 3% или 10% от стоимости покупки</li>
                                <li>Используйте бонусы для оплаты 50% стоимости напитка</li>
                                <li>Бонусы действуют в течение 3 месяцев с момента начисления</li>
                                <li>В день рождения получайте +20% бонусов от суммы заказа</li>
                            </ul>
                            
                            <h4 style="margin: 25px 0 15px;">Специальные акции:</h4>
                            <p>Следите за нашими специальными акциями в социальных сетях и получайте дополнительные бонусы!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Модальные окна -->
    <div class="modal" id="login-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 class="modal-title">Вход в личный кабинет</h3>
            <form id="login-form">
                <div class="form-group">
                    <label for="phone">Номер телефона:</label>
                    <input type="tel" class="form-control" id="phone" placeholder="+7 (999) 123-45-67" required>
                </div>
                <button type="submit" class="btn btn-primary">Войти</button>
            </form>
            <p style="margin-top: 20px; text-align: center;">
                Еще нет аккаунта? <a href="#" id="register-link">Зарегистрироваться</a>
            </p>
        </div>
    </div>

    <!-- Модальное окно информации о напитке -->
    <div class="modal" id="info-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 class="modal-title" id="info-title">Информация о напитке</h3>
            <div id="info-content">
                <!-- Контент в JavaScript -->
            </div>
        </div>
    </div>

    <!-- Модальное окно корзины -->
    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 class="modal-title">Ваш заказ</h3>
            <div class="cart-items" id="cart-items">
                <!-- Контент в JavaScript -->
            </div>
            <div class="cart-total">
                <span>Итого:</span>
                <span id="cart-total">0 ₽</span>
            </div>
            <button class="btn btn-primary" id="checkout-btn">Оформить заказ</button>
        </div>
    </div>

    <!-- Модальное окно оформления заказа -->
    <div class="modal" id="order-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 class="modal-title">Оформление заказа</h3>
            <form id="order-form">
                <div class="form-group">
                    <label for="pickup-location">Выберите кофейню:</label>
                    <select class="form-control" id="pickup-location" required>
                        <option value="">-- Выберите адрес --</option>
                        <option value="Улица Балтийская, 16">Улица Балтийская, 16</option>
                        <option value="Улица Сергея Ускова, 33">Улица Сергея Ускова, 33</option>
                        <option value="Улица Сергея Ускова, 23/к1">Улица Сергея Ускова, 23/к1</option>
                        <option value="280-летия барнаула, 25/2">280-летия барнаула, 25/2</option>
                        <option value="Павловский тракт, 251а/1">Павловский тракт, 251а/1</option>
                        <option value="Антона Петрова 219Б">Антона Петрова 219Б</option>
                        <option value="Проспект Ленина, 155">Проспект Ленина, 155</option>
                        <option value="ТК Локо, проспект строителей 18 к1, 1 этаж">ТК Локо, проспект строителей 18 к1, 1 этаж</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="customer-name">Ваше имя:</label>
                    <input type="text" class="form-control" id="customer-name" required>
                </div>
                <div class="form-group">
                    <label for="pickup-time">Время самовывоза:</label>
                    <input type="time" class="form-control" id="pickup-time" min="08:00" max="20:30" required>
                </div>
                <button type="submit" class="btn btn-primary">Подтвердить заказ</button>
            </form>
        </div>
    </div>

    <!-- Подвал -->
    <footer>
        <div class="container footer-container">
            <div class="footer-section">
                <h3>COFFEE LIKE</h3>
                <p>Кофейня с душой, где каждый найдет напиток по вкусу.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-vk"></i></a>
                    <a href="#"><i class="fab fa-telegram"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Часы работы</h3>
                <p>Пн-Вс: 8:00 - 21:00</p>
                <p>Заказы на самовывоз: 8:00 - 20:30</p>
            </div>
            <div class="footer-section">
                <h3>Контакты</h3>
                <ul>
                    <li><i class="fas fa-phone"></i> +7 (999) 123-45-67</li>
                    <li><i class="fas fa-envelope"></i> info@coffeelike.ru</li>
                    <li><i class="fas fa-map-marker-alt"></i> Барнаул, ул. Балтийкая, 16</li>
                </ul>
            </div>
        </div>
        <div class="container copyright">
            <p>&copy; 2025 COFFEE LIKE. Все права защищены.</p>
        </div>
    </footer>

    <script>
        // Данные меню
        const menuData = {
            classic: [
                {
                    id: 1,
                    name: "Капучино",
                    description: "Классический кофейный напиток на основе эспрессо и взбитого молока.",
                    imageUrl: "img/капуч.jpg",
                    sizes: [
                        { name: "S (250мл)", price: 200, kcal: 120, protein: 6, fat: 5, carbs: 10 },
                        { name: "M (350мл)", price: 250, kcal: 150, protein: 7, fat: 6, carbs: 12 },
                        { name: "L (450мл)", price: 300, kcal: 180, protein: 8, fat: 7, carbs: 14 },
                        { name: "XL (550мл)", price: 370, kcal: 220, protein: 9, fat: 8, carbs: 16 }
                    ],
                    info: "Капучино - кофейный напиток итальянского происхождения на основе эспрессо с добавлением вспененного молока. Отличается от латте меньшим количеством молока и большим количеством пенки."
                },
                {
                    id: 2,
                    name: "Латте",
                    description: "Молочный слоеный кофе. Взбитое молоко, насыщенный вкус эспрессо.",
                    imageUrl: "img/латте.jpg",
                    sizes: [
                        { name: "S (250мл)", price: 200, kcal: 130, protein: 7, fat: 6, carbs: 11 },
                        { name: "M (350мл)", price: 250, kcal: 160, protein: 8, fat: 7, carbs: 13 },
                        { name: "L (450мл)", price: 300, kcal: 190, protein: 9, fat: 8, carbs: 15 },
                        { name: "XL (550мл)", price: 370, kcal: 230, protein: 10, fat: 9, carbs: 17 }
                    ],
                    info: "Латте - кофейный напиток, состоящий из молока и кофе эспрессо. Отличается от капучино меньшим колличеством эспрессо. Имеет более нежный и мягкий вкус."
                },
                {
                    id: 3,
                    name: "Раф",
                    description: "Для любителей послаще, кофе на основе эспрессо с добавлением ванильного сахара/сиропа, молока и нежных сливок.",
                    imageUrl: "img/раф классика.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 270, kcal: 210, protein: 5, fat: 10, carbs: 25 },
                        { name: "L (450мл)", price: 320, kcal: 260, protein: 6, fat: 12, carbs: 30 },
                        { name: "XL (550мл)", price: 390, kcal: 310, protein: 7, fat: 14, carbs: 35 }
                    ],
                    info: "Раф-кофе - популярный кофейный напиток, приготовленный на основе эспрессо, ванильного сахара и сливок, взбитых вместе паром в питчере. Имеет нежный кремовый вкус."
                },
                {
                    id: 4,
                    name: "Флет Уайт",
                    description: "Напиток на основе эспрессо и молока. Более насыщенный кофейный вкус с нежной тонкой молочной пеной.",
                    imageUrl: "img/флет.jpg",
                    sizes: [
                        { name: "S (250мл)", price: 220, kcal: 110, protein: 7, fat: 5, carbs: 9 },
                        { name: "L (450мл)", price: 320, kcal: 170, protein: 9, fat: 7, carbs: 13 }
                    ],
                    info: "Флэт уайт - кофейный напиток, состоящий из эспрессо и микрофоам (взбитое молоко с маленькими пузырьками и глянцевой текстурой). Отличается от латте большей концентрацией кофе и меньшим количеством молока."
                },
                {
                    id: 5,
                    name: "Американо",
                    description: "Черный кофе на основе эспрессо с добавлением горячей воды.",
                    imageUrl: "img/американо.jpg",
                    sizes: [
                        { name: "S (250мл)", price: 190, kcal: 5, protein: 0, fat: 0, carbs: 1 },
                        { name: "M (350мл)", price: 240, kcal: 7, protein: 0, fat: 0, carbs: 1 },
                        { name: "L (450мл)", price: 290, kcal: 9, protein: 0, fat: 0, carbs: 2 }
                    ],
                    info: "Американо - способ приготовления кофе, заключающийся в соединении определенного количества горячей воды и эспрессо. Напиток имеет менее интенсивный вкус по сравнению с чистым эспрессо."
                },
                {
                    id: 6,
                    name: "Эспрессо",
                    description: "Насыщенный черный кофе.",
                    imageUrl: "img/эспрессо.jpg",
                    sizes: [
                        { name: "30мл", price: 190, kcal: 3, protein: 0, fat: 0, carbs: 0 }
                    ],
                    info: "Эспрессо - метод приготовления кофе путем пропускания горячей воды под давлением через молотые кофейные зерна. Эспрессо служит основой для многих других кофейных напитков."
                },
                {
                    id: 7,
                    name: "Горячий шоколад",
                    description: "Согревающий напиток на основе молока и темного шоколада.",
                    imageUrl: "img/горшок.jpg",
                    sizes: [
                        { name: "S (250мл)", price: 230, kcal: 210, protein: 7, fat: 9, carbs: 25 },
                        { name: "M (350мл)", price: 280, kcal: 280, protein: 9, fat: 11, carbs: 32 },
                        { name: "L (450мл)", price: 330, kcal: 350, protein: 11, fat: 13, carbs: 39 },
                        { name: "XL (550мл)", price: 390, kcal: 420, protein: 13, fat: 15, carbs: 46 }
                    ],
                    info: "Горячий шоколад - напиток на основе тёмного бельгийского шоколада, смешанного с горячим молоком. Часто подается со взбитыми сливками или маршмеллоу."
                },
                {
                    id: 8,
                    name: "Какао",
                    description: "Согревающий напиток на основе молока и молочного бельгийского шоколада. По желанию добавьте взбитые сливки, маршмеллоу или корицу.",
                    imageUrl: "img/какао.jpg",
                    sizes: [
                        { name: "S (250мл)", price: 210, kcal: 180, protein: 8, fat: 7, carbs: 20 },
                        { name: "M (350мл)", price: 260, kcal: 240, protein: 10, fat: 9, carbs: 26 },
                        { name: "L (450мл)", price: 310, kcal: 300, protein: 12, fat: 11, carbs: 32 },
                        { name: "XL (550мл)", price: 370, kcal: 360, protein: 14, fat: 13, carbs: 38 }
                    ],
                    info: "Какао - напиток, в основе которого находится молочный бельгийский шоколад, смешанный с горячим молоком. От горячего шоколада отличается меньшим содержанием какао-масла."
                },
                {
                    id: 9,
                    name: "Чай",
                    description: "Ароматный чай на выбор: черный или зеленый",
                    imageUrl: "img/чай.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 140, kcal: 2, protein: 0, fat: 0, carbs: 0 },
                        { name: "L (450мл)", price: 190, kcal: 2, protein: 0, fat: 0, carbs: 0 }
                    ],
                    options: ["Черный", "Зеленый"],
                    info: "Чай - напиток, получаемый варкой, завариванием или настаиванием листа чайного куста. Черный чай проходит полную ферментацию, зеленый - минимальную, что сохраняет больше полезных веществ."
                },
                {
                    id: 10,
                    name: "Матча латте",
                    description: "Традиционный японский чай с молоком.",
                    imageUrl: "img/матча.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 250, kcal: 120, protein: 7, fat: 5, carbs: 15 },
                        { name: "L (450мл)", price: 300, kcal: 150, protein: 9, fat: 6, carbs: 18 },
                        { name: "XL (550мл)", price: 360, kcal: 180, protein: 11, fat: 7, carbs: 21 }
                    ],
                    info: "Матча латте - напиток на основе японского порошкового зеленого чая матча и молока. Матча содержит антиоксиданты и аминокислоты, обладает тонизирующим эффектом."
                },
                {
                    id: 11,
                    name: "Милкшейк классический",
                    description: "Нежный молочный коктейль с мороженым.",
                    imageUrl: "img/милкшейк.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 270, kcal: 320, protein: 8, fat: 12, carbs: 40 },
                        { name: "L (450мл)", price: 340, kcal: 400, protein: 10, fat: 15, carbs: 50 },
                        { name: "XL (550мл)", price: 400, kcal: 480, protein: 12, fat: 18, carbs: 60 }
                    ],
                    info: "Молочный коктейль - холодный напиток на основе молока и мороженого, взбитых до пенной консистенции. Часто добавляются сиропы, фрукты или шоколад для разнообразия вкуса."
                }
            ],
            seasonal: [
                {
                    id: 12,
                    name: "Капучино клюквенный медок",
                    description: "Ароматный капучино, который объединяет в себе яркий вкус свежей клюквы и легкую сладость меда.",
                    imageUrl: "img/клюквенный медок.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 310, kcal: 180, protein: 7, fat: 6, carbs: 25 },
                        { name: "L (450мл)", price: 360, kcal: 220, protein: 8, fat: 7, carbs: 30 },
                        { name: "XL (550мл)", price: 420, kcal: 260, protein: 9, fat: 8, carbs: 35 }
                    ],
                    info: "Сезонный напиток с сочетанием кофе, клюквы и меда. Идеально подходит для холодного времени года, согревает и поднимает настроение."
                },
                {
                    id: 13,
                    name: "Раф трубочка со сгущёнкой",
                    description: "Раф, который вернет вас в детство. Во вкусе трубочка с вареной сгущенкой и нежная текстура молока.",
                    imageUrl: "img/трубочка.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 320, kcal: 250, protein: 6, fat: 11, carbs: 30 },
                        { name: "L (450мл)", price: 370, kcal: 300, protein: 7, fat: 13, carbs: 35 },
                        { name: "XL (550мл)", price: 430, kcal: 350, protein: 8, fat: 15, carbs: 40 }
                    ],
                    info: "Сезонная вариация раф-кофе, которое придает напитку особую сладость и кремовую текстуру."
                },
                {
                    id: 14,
                    name: "Чай смородинка",
                    description: "Напиток, сочетающий вкус черной смородины и сладость ирги. Можно попробовать как на основе черного, так и зеленого чая.",
                    imageUrl: "img/смородинка.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 280, kcal: 30, protein: 0, fat: 0, carbs: 7 },
                        { name: "L (450мл)", price: 330, kcal: 40, protein: 0, fat: 0, carbs: 9 },
                        { name: "XL (550мл)", price: 390, kcal: 50, protein: 0, fat: 0, carbs: 11 }
                    ],
                    options: ["Черный/Горячий", "Зеленый/Горячий", "Черный/Холодный", "Зеленый/Холодный"],
                    info: "Сезонный чайный напиток с добавлением смородины. Подается горячим или холодным, с выбором черного или зеленого чая в основе."
                }
            ],
            signature: [
                {
                    id: 15,
                    name: "Раф Земляничное мороженое с мятой",
                    description: "Нежный и сливочный кофейный напиток со знакомым вкусом земляничного мороженого с мятой. Пробуйте и наслаждайтесь этим напитком.",
                    imageUrl: "img/земляника.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 340, kcal: 280, protein: 6, fat: 12, carbs: 35 },
                        { name: "L (450мл)", price: 390, kcal: 330, protein: 7, fat: 14, carbs: 40 },
                        { name: "XL (550мл)", price: 450, kcal: 380, protein: 8, fat: 16, carbs: 45 }
                    ],
                    info: "Фирменный раф-кофе с уникальным сочетанием земляники, ванильного мороженого и свежей мяты. Освежающий и нежный вкус."
                },
                {
                    id: 16,
                    name: "Раф Фисташковой тарт с рикоттой и клюквой",
                    description: "Мягкий кофейно-сливочный напиток с добавлением пасты 'Рикота-фисташка' и украшения из пудры 'Клюква'.",
                    imageUrl: "img/фисташка.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 340, kcal: 290, protein: 7, fat: 13, carbs: 32 },
                        { name: "L (450мл)", price: 390, kcal: 340, protein: 8, fat: 15, carbs: 37 },
                        { name: "XL (550мл)", price: 450, kcal: 390, protein: 9, fat: 17, carbs: 42 }
                    ],
                    info: "Эксклюзивный раф-кофе, созданный по мотивам десерта 'Фисташковый тарт'."
                },
                {
                    id: 17,
                    name: "Раф Птичье молоко",
                    description: "Авторский кофейно-молочный напиток с добавлением пасты 'Птичье молоко' и украшения из пудры 'Темный шоколад'.",
                    imageUrl: "img/птичка.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 340, kcal: 270, protein: 6, fat: 11, carbs: 33 },
                        { name: "L (450мл)", price: 390, kcal: 320, protein: 7, fat: 13, carbs: 38 },
                        { name: "XL (550мл)", price: 450, kcal: 370, protein: 8, fat: 15, carbs: 43 }
                    ],
                    info: "Фирменный раф-кофе, вдохновленный известным десертом 'Птичье молоко'. Нежная текстура и сладкий ванильный вкус."
                },
                {
                    id: 18,
                    name: "Раф Малина кокос",
                    description: "Нежный кофейно-сливочный напиток с добавлением пасты 'Малина-кокос' и украшения из пудры 'Малина'.",
                    imageUrl: "img/малина кокос.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 340, kcal: 260, protein: 5, fat: 10, carbs: 34 },
                        { name: "L (450мл)", price: 390, kcal: 310, protein: 6, fat: 12, carbs: 39 },
                        { name: "XL (550мл)", price: 450, kcal: 360, protein: 7, fat: 14, carbs: 44 }
                    ],
                    info: "Экзотический раф-кофе с сочетанием малины и кокоса. Фруктовый и освежающий вкус."
                },
                {
                    id: 19,
                    name: "Латте банановое мороженое с солёной карамелью",
                    description: "Мягкий кофейно-сливочный напиток с добавлением пасты 'Банановое мороженое с солёной карамелью' и маршмеллоу.",
                    imageUrl: "img/банановое мороженое.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 340, kcal: 320, protein: 7, fat: 12, carbs: 42 },
                        { name: "L (450мл)", price: 390, kcal: 370, protein: 8, fat: 14, carbs: 47 },
                        { name: "XL (550мл)", price: 450, kcal: 420, protein: 9, fat: 16, carbs: 52 }
                    ],
                    info: "Фирменный латте с насыщенным вкусом бананового мороженого и соленой карамели. Идеальное сочетание сладости и солоноватого послевкусия."
                }
            ],
            tea: [
                {
                    id: 20,
                    name: "Чай Малина Ирга",
                    description: "Ягодный чай со вкусом малины и ирги. Можно попробовать как на основе черного, так и зеленого чая.",
                    imageUrl: "img/малина ирга.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 280, kcal: 35, protein: 0, fat: 0, carbs: 8 },
                        { name: "L (450мл)", price: 330, kcal: 45, protein: 0, fat: 0, carbs: 10 },
                        { name: "XL (550мл)", price: 390, kcal: 55, protein: 0, fat: 0, carbs: 12 }
                    ],
                    options: ["Черный/Горячий", "Зеленый/Горячий", "Черный/Холодный", "Зеленый/Холодный"],
                    info: "Авторский чайный напиток с сочетанием малины и ирги. Ирга - ягода с уникальным вкусом, богатая витаминами и антиоксидантами."
                },
                {
                    id: 21,
                    name: "Фруктовый взвар",
                    description: "Традиционный напиток, обладающий фруктовым вкусом и ягодным ароматом.",
                    imageUrl: "img/взвар.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 280, kcal: 50, protein: 0, fat: 0, carbs: 12 },
                        { name: "L (450мл)", price: 330, kcal: 60, protein: 0, fat: 0, carbs: 14 },
                        { name: "XL (550мл)", price: 390, kcal: 70, protein: 0, fat: 0, carbs: 16 }
                    ],
                    info: "Фруктовый взвар - традиционный русский напиток из сушеных фруктов и ягод, приготовленный методом томления. Богат витаминами и имеет насыщенный вкус."
                },
                {
                    id: 22,
                    name: "Чай Облепиха-Лимон-Мёд",
                    description: "Согревающий витаминный чай с облепихой, лимоном и медом. Можно попробовать как на основе черного, так и зеленого чая.",
                    imageUrl: "img/облепиха.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 280, kcal: 60, protein: 0, fat: 0, carbs: 14 },
                        { name: "L (450мл)", price: 330, kcal: 70, protein: 0, fat: 0, carbs: 16 },
                        { name: "XL (550мл)", price: 390, kcal: 80, protein: 0, fat: 0, carbs: 18 }
                    ],
                    options: ["Черный/Горячий", "Зеленый/Горячий", "Черный/Холодный", "Зеленый/Холодный"],
                    info: "Авторский чай с облепихой, лимоном и медом. Облепиха богата витамином C, лимон добавляет свежести, а мед смягчает вкус и усиливает полезные свойства."
                }
            ],
            cold: [
                {
                    id: 23,
                    name: "Бамбл",
                    description: "Идеально подходит для летних дней, даря заряд энергии и хорошего настроения. Теперь можно попробовать с матчей.",
                    imageUrl: "img/бамбл.jpg",
                    sizes: [
                        { name: "M", price: 200, kcal: 80, protein: 1, fat: 0, carbs: 18 },
                        { name: "L", price: 300, kcal: 100, protein: 1, fat: 0, carbs: 22 },
                        { name: "XL", price: 350, kcal: 120, protein: 1, fat: 0, carbs: 26 }
                    ],
                    info: "Бамбл - освежающий летний кофейный напиток, состоящий из эспрессо, апельсинового сока и льда. Имеет яркий вкус с цитрусовыми нотками."
                },
                {
                    id: 24,
                    name: "Эспрессо Тоник",
                    description: "Освежающий напиток, который обладает ярким кофейным вкусом, сбалансированным горечью тоника.",
                    imageUrl: "img/эспрессо тоник.jpg",
                    sizes: [
                        { name: "M", price: 200, kcal: 70, protein: 1, fat: 0, carbs: 16 },
                        { name: "L", price: 300, kcal: 90, protein: 1, fat: 0, carbs: 20 },
                        { name: "XL", price: 350, kcal: 110, protein: 1, fat: 0, carbs: 24 }
                    ],
                    info: "Эспрессо-тоник - популярный летний кофейный напиток, представляющий собой сочетание охлажденного эспрессо и тоника. Подается со льдом, часто с долькой лайма или лимона."
                },
                {
                    id: 25,
                    name: "Лайкфраппе",
                    description: "Отличное решение для кофейных гурманов, которые хотят насладиться летним днём с холодным и бодрящим напитком.",
                    imageUrl: "img/лайкфраппе.jpg",
                    sizes: [
                        { name: "M", price: 180, kcal: 150, protein: 3, fat: 5, carbs: 22 },
                        { name: "L", price: 200, kcal: 180, protein: 4, fat: 6, carbs: 26 },
                        { name: "XL", price: 250, kcal: 210, protein: 5, fat: 7, carbs: 30 }
                    ],
                    info: "Фраппе - холодный кофейный напиток из взбитого кофе со льдом. Имеет густую пенку и освежающий вкус."
                },
                {
                    id: 26,
                    name: "Айс Матча латте",
                    description: "Холодный матча латте со льдом",
                    imageUrl: "img/айс матча.jpg",
                    sizes: [
                        { name: "M", price: 180, kcal: 100, protein: 5, fat: 4, carbs: 12 },
                        { name: "L", price: 200, kcal: 120, protein: 6, fat: 5, carbs: 14 },
                        { name: "XL", price: 250, kcal: 140, protein: 7, fat: 6, carbs: 16 }
                    ],
                    info: "Айс матча латте - холодная версия традиционного матча латте. Готовится из порошка матча, молока и льда. Освежающий и тонизирующий напиток."
                },
                {
                    id: 27,
                    name: "Айс капучино",
                    description: "Классический кофейный напиток на основе эспрессо и взбитого молока в холодном исполнении.",
                    imageUrl: "img/айс капуч.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 250, kcal: 130, protein: 6, fat: 5, carbs: 15 },
                        { name: "L (450мл)", price: 300, kcal: 160, protein: 7, fat: 6, carbs: 18 },
                        { name: "XL (550мл)", price: 370, kcal: 190, protein: 8, fat: 7, carbs: 21 }
                    ],
                    info: "Айс капучино - холодная версия классического капучино. Сохраняет слоистую структуру из кофе, молока и пенки, но подается со льдом."
                },
                {
                    id: 28,
                    name: "Айс латте",
                    description: "Молочный слоеный кофе с добавлением льда.",
                    imageUrl: "img/айс латте.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 250, kcal: 140, protein: 7, fat: 6, carbs: 16 },
                        { name: "L (450мл)", price: 300, kcal: 170, protein: 8, fat: 7, carbs: 19 },
                        { name: "XL (550мл)", price: 370, kcal: 200, protein: 9, fat: 8, carbs: 22 }
                    ],
                    info: "Айс латте - холодная версия классического латте. Состоит из эспрессо, холодного молока и льда. Имеет мягкий и освежающий вкус."
                },
                {
                    id: 29,
                    name: "Айс раф",
                    description: "Для любителей послаще: кофе на основе эспрессо с добавлением льда, ванильного сахара или сиропа, молока и нежных сливок.",
                    imageUrl: "img/айс раф.jpg",
                    sizes: [
                        { name: "M (350мл)", price: 270, kcal: 200, protein: 5, fat: 9, carbs: 28 },
                        { name: "L (450мл)", price: 320, kcal: 250, protein: 6, fat: 11, carbs: 33 },
                        { name: "XL (550мл)", price: 390, kcal: 300, protein: 7, fat: 13, carbs: 38 }
                    ],
                    info: "Айс раф - холодная версия популярного раф-кофе. Сохраняет кремовую текстуру и сладкий вкус, но подается охлажденным со льдом."
                }
            ],
            combo: [
                {
                    id: 30,
                    name: "Комбо набор",
                    description: "Капучино или Латте (350мл) + сэндвич 1шт",
                    imageUrl: "img/комбо.jpg",
                    price: 390,
                    options: ["Капучино", "Латте"],
                    info: "Комбо набор включает напиток на выбор (капучино или латте объемом 350мл) и сэндвич. Идеальный вариант для быстрого перекуса."
                }
            ]
        };

        // Данные для кофейного теста
        const quizData = [
            {
                question: "Какой вкус кофе вы предпочитаете?",
                options: [
                    { text: "Классический, сбалансированный", score: { classic: 2 } },
                    { text: "Сладкий, с добавками", score: { signature: 2, seasonal: 1 } },
                    { text: "Необычный, с интересными нотами", score: { signature: 2, tea: 1 } },
                    { text: "Освежающий, холодный", score: { cold: 3 } }
                ]
            },
            {
                question: "Как часто вы пьете кофе?",
                options: [
                    { text: "Каждый день, несколько раз", score: { classic: 2, cold: 1 } },
                    { text: "1-2 раза в день", score: { classic: 1, signature: 1 } },
                    { text: "Несколько раз в неделю", score: { signature: 1, seasonal: 1 } },
                    { text: "Редко, по особым случаям", score: { signature: 2, tea: 1 } }
                ]
            },
            {
                question: "В какое время суток вы обычно пьете кофе?",
                options: [
                    { text: "Утром, чтобы проснуться", score: { classic: 2 } },
                    { text: "В обед, для бодрости", score: { classic: 1, cold: 1 } },
                    { text: "После обеда, как десерт", score: { signature: 2, seasonal: 1 } },
                    { text: "Вечером, для удовольствия", score: { tea: 2, signature: 1 } }
                ]
            },
            {
                question: "Какой объем напитка вы предпочитаете?",
                options: [
                    { text: "Маленький, концентрированный", score: { classic: 2 } },
                    { text: "Средний, стандартный", score: { classic: 1, signature: 1 } },
                    { text: "Большой, чтобы пить долго", score: { cold: 2, tea: 1 } },
                    { text: "Не важно, главное - вкус", score: { signature: 2, seasonal: 1 } }
                ]
            },
            {
                question: "Что для вас важнее в кофейном напитке?",
                options: [
                    { text: "Вкус и аромат", score: { classic: 2 } },
                    { text: "Бодрящий эффект", score: { classic: 2, cold: 1 } },
                    { text: "Необычность и уникальность", score: { signature: 3 } },
                    { text: "Текстура и внешний вид", score: { signature: 1, seasonal: 2 } }
                ]
            }
        ];

        // Рекомендации по результатам теста
        const recommendations = {
            classic: ["Капучино", "Латте", "Американо", "Эспрессо"],
            signature: ["Раф Птичье молоко", "Латте банановое мороженое", "Раф Фисташковой тарт"],
            seasonal: ["Капучино клюквенный медок", "Раф трубочка со сгущёнкой", "Чай смородинка"],
            tea: ["Чай Малина Ирга", "Фруктовый взвар", "Чай Облепиха-Лимон-Мёд"],
            cold: ["Бамбл", "Эспрессо Тоник", "Айс латте", "Айс раф"]
        };

        // Корзина
        let cart = [];
        let cartCount = 0;
        let cartTotal = 0;

        // Данные пользователя
        let user = null;

        // Текущая страница
        let currentPage = 'home';

        // Кофейный тест
        let currentQuestion = 0;
        let quizScore = {
            classic: 0,
            signature: 0,
            seasonal: 0,
            tea: 0,
            cold: 0
        };

        // DOM элементы
        const pages = document.querySelectorAll('.page');
        const navLinks = document.querySelectorAll('.nav-link');
        const menuNavItems = document.querySelectorAll('.menu-nav-item');
        const menuSections = document.querySelectorAll('.menu-section');
        const cartIcon = document.getElementById('cart-icon');
        const cartModal = document.getElementById('cart-modal');
        const orderModal = document.getElementById('order-modal');
        const infoModal = document.getElementById('info-modal');
        const loginModal = document.getElementById('login-modal');
        const closeModalButtons = document.querySelectorAll('.close-modal');
        const checkoutBtn = document.getElementById('checkout-btn');
        const orderForm = document.getElementById('order-form');
        const loginForm = document.getElementById('login-form');
        const loginBtn = document.getElementById('login-btn');
        const logoutBtn = document.getElementById('logout-btn');
        const goToMenuBtn = document.getElementById('go-to-menu');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartTotalElement = document.getElementById('cart-total');
        const cartCountElement = document.querySelector('.cart-count');
        const quizContent = document.getElementById('quiz-content');
        const quizProgressBar = document.getElementById('quiz-progress-bar');
        const profileTabs = document.querySelectorAll('.profile-tab');
        const profileMenuLinks = document.querySelectorAll('.profile-menu-link');
        const userNameElement = document.getElementById('user-name');
        const userPhoneElement = document.getElementById('user-phone');
        const bonusAmountElement = document.getElementById('bonus-amount');
        const ordersListElement = document.getElementById('orders-list');

        // Инициализация меню
        function initMenu() {
            for (const category in menuData) {
                const container = document.getElementById(`${category}-menu`);
                if (!container) continue;
                
                menuData[category].forEach(item => {
                    const menuItem = createMenuItem(item, category);
                    container.appendChild(menuItem);
                });
            }
        }

        // Создание элемента меню
        function createMenuItem(item, category) {
    const menuItem = document.createElement('div');
    menuItem.className = 'menu-item';
    menuItem.dataset.id = item.id;
    
    // Определяем, что показывать в блоке с картинкой
    let imageHTML = '';
    if (item.imageUrl) {
        // Если есть фото - показываем фото
        imageHTML = `<div class="menu-item-img" style="background-image: url('${item.imageUrl}')"></div>`;
    } else {
        // Если нет фото - показываем иконку
        imageHTML = `<div class="menu-item-img default-coffee-img">
                        <i class="fas fa-coffee"></i>
                     </div>`;
    }
    
    let sizesHTML = '';
    if (item.sizes) {
        item.sizes.forEach(size => {
            sizesHTML += `
                <div class="size-option">
                    <span class="size-name">${size.name}</span>
                    <span class="size-price">${size.price} ₽</span>
                </div>
            `;
        });
    } else {
        sizesHTML = `<div class="size-option"><span class="size-price">${item.price} ₽</span></div>`;
    }
    
    let optionsHTML = '';
    if (item.options) {
        optionsHTML = `<p><strong>Варианты:</strong> ${item.options.join(', ')}</p>`;
    }
    
    menuItem.innerHTML = `
        ${imageHTML}
        <div class="menu-item-content">
            <div class="menu-item-header">
                <h3 class="menu-item-name">${item.name}</h3>
                <span class="menu-item-info" data-info="${item.info}"><i class="fas fa-question-circle"></i></span>
            </div>
            <p class="menu-item-description">${item.description}</p>
            ${optionsHTML}
            <div class="menu-item-sizes">
                ${sizesHTML}
            </div>
            <button class="add-to-cart-btn" data-id="${item.id}" data-category="${category}">Добавить в корзину</button>
        </div>
    `;
    
    return menuItem;
}

        // Переключение страниц
        function showPage(pageId) {
            pages.forEach(page => {
                page.classList.remove('active');
                if (page.id === `${pageId}-page`) {
                    page.classList.add('active');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.page === pageId) {
                    link.classList.add('active');
                }
            });
            
            currentPage = pageId;
            
            // Переходим на страницу меню, активируем первую категорию
            if (pageId === 'menu') {
                activateMenuCategory('classic');
            }
        }

        // Активация категории меню
        function activateMenuCategory(category) {
            menuNavItems.forEach(item => {
                item.classList.remove('active');
                if (item.dataset.target === category) {
                    item.classList.add('active');
                }
            });
            
            menuSections.forEach(section => {
                section.classList.remove('active');
                if (section.id === category) {
                    section.classList.add('active');
                }
            });
        }

        // Кофейный тест
        function initQuiz() {
            currentQuestion = 0;
            quizScore = {
                classic: 0,
                signature: 0,
                seasonal: 0,
                tea: 0,
                cold: 0
            };
            showQuizQuestion();
        }

        // Вопрос теста
        function showQuizQuestion() {
            if (currentQuestion >= quizData.length) {
                showQuizResult();
                return;
            }
            
            const question = quizData[currentQuestion];
            const progress = ((currentQuestion) / quizData.length) * 100;
            quizProgressBar.style.width = `${progress}%`;
            
            let optionsHTML = '';
            question.options.forEach((option, index) => {
                optionsHTML += `
                    <div class="quiz-option" data-index="${index}">
                        ${option.text}
                    </div>
                `;
            });
            
            quizContent.innerHTML = `
                <div class="quiz-question">${question.question}</div>
                <div class="quiz-options">
                    ${optionsHTML}
                </div>
                <div class="quiz-navigation">
                    <button class="btn btn-outline" id="quiz-prev" ${currentQuestion === 0 ? 'disabled' : ''}>Назад</button>
                    <button class="btn btn-primary" id="quiz-next" disabled>Далее</button>
                </div>
            `;
            
            // Обработчики для вариантов ответа
            const quizOptions = quizContent.querySelectorAll('.quiz-option');
            quizOptions.forEach(option => {
                option.addEventListener('click', () => {
                    quizOptions.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    document.getElementById('quiz-next').disabled = false;
                });
            });
            
            // Обработчики для кнопок навигации
            document.getElementById('quiz-next').addEventListener('click', goToNextQuestion);
            document.getElementById('quiz-prev').addEventListener('click', goToPrevQuestion);
        }

        // Переход к следующему вопросу
        function goToNextQuestion() {
            const selectedOption = quizContent.querySelector('.quiz-option.selected');
            if (!selectedOption) return;
            
            const optionIndex = parseInt(selectedOption.dataset.index);
            const optionScores = quizData[currentQuestion].options[optionIndex].score;
            
            // Добавляем баллы к категориям
            for (const category in optionScores) {
                quizScore[category] += optionScores[category];
            }
            
            currentQuestion++;
            showQuizQuestion();
        }

        // Переход к предыдущему вопросу
        function goToPrevQuestion() {
            if (currentQuestion === 0) return;
            
            currentQuestion--;
            showQuizQuestion();
        }

        // Показать результат теста
        function showQuizResult() {
            quizProgressBar.style.width = '100%';
            
            // Определяем категорию с наибольшим количеством баллов
            let maxScore = 0;
            let recommendedCategory = 'classic';
            
            for (const category in quizScore) {
                if (quizScore[category] > maxScore) {
                    maxScore = quizScore[category];
                    recommendedCategory = category;
                }
            }
            
            const recommendedDrinks = recommendations[recommendedCategory];
            const randomDrink = recommendedDrinks[Math.floor(Math.random() * recommendedDrinks.length)];
            
            quizContent.innerHTML = `
                <div class="quiz-result">
                    <h3>Спасибо за прохождение теста!</h3>
                    <p>На основе ваших ответов мы рекомендуем попробовать:</p>
                    <div class="recommended-drink">
                        <h4>${randomDrink}</h4>
                        <p>Из категории: ${getCategoryName(recommendedCategory)}</p>
                        <button class="btn btn-primary" id="go-to-recommended">Посмотреть в меню</button>
                    </div>
                    <button class="btn btn-outline" id="restart-quiz">Пройти тест еще раз</button>
                </div>
            `;
            
            document.getElementById('go-to-recommended').addEventListener('click', () => {
                showPage('menu');
                activateMenuCategory(recommendedCategory);
            });
            
            document.getElementById('restart-quiz').addEventListener('click', initQuiz);
        }

        // Получить название категории
        function getCategoryName(category) {
            const names = {
                classic: 'Классические напитки',
                signature: 'Фирменные напитки',
                seasonal: 'Сезонные напитки',
                tea: 'Авторские чаи',
                cold: 'Холодные напитки'
            };
            return names[category] || category;
        }

        // Инициализация личного кабинета
        function initProfile() {
            if (user) {
                userNameElement.textContent = user.name;
                userPhoneElement.textContent = user.phone;
                bonusAmountElement.textContent = user.bonuses;
                updateOrdersList();
            } else {
                userNameElement.textContent = 'Гость';
                userPhoneElement.textContent = '';
            }
        }

        // Обновление списка заказов
        function updateOrdersList() {
            if (!user || !user.orders) {
                ordersListElement.innerHTML = '<p>У вас пока нет заказов</p>';
                return;
            }
            
            let ordersHTML = '';
            user.orders.forEach(order => {
                ordersHTML += `
                    <div class="order-item">
                        <div>
                            <div><strong>Заказ #${order.id}</strong></div>
                            <div>${order.date} • ${order.location}</div>
                            <div>${order.items.length} товара • ${order.total} ₽</div>
                        </div>
                        <div>
                            <span class="order-status">${order.status}</span>
                        </div>
                    </div>
                `;
            });
            
            ordersListElement.innerHTML = ordersHTML;
        }

        // Вход пользователя
        function loginUser(phone) {
            // Без запроса к серверу
            user = {
                name: 'Алексей',
                phone: phone,
                bonuses: 150,
                orders: [
                    {
                        id: '12345',
                        date: '15.10.2023',
                        location: 'Улица Балтийская, 16',
                        items: ['Капучино M', 'Сэндвич с курицей'],
                        total: 390,
                        status: 'Выполнен'
                    },
                    {
                        id: '12346',
                        date: '10.10.2023',
                        location: 'Проспект Ленина, 155',
                        items: ['Латте L', 'Круассан'],
                        total: 340,
                        status: 'Выполнен'
                    }
                ]
            };
            
            initProfile();
            loginModal.classList.remove('active');
            showNotification(`Добро пожаловать, ${user.name}!`);
        }

        // Выход пользователя
        function logoutUser() {
            user = null;
            initProfile();
            showNotification('Вы вышли из аккаунта');
        }

        // Показать уведомление
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: var(--primary);
                color: white;
                padding: 15px 20px;
                border-radius: var(--radius);
                z-index: 1200;
                box-shadow: var(--shadow);
                transition: opacity 0.3s;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 3000);
        }

        // Открытие модального окна информации
        document.addEventListener('click', (e) => {
            if (e.target.closest('.menu-item-info')) {
                const info = e.target.closest('.menu-item-info').dataset.info;
                const title = e.target.closest('.menu-item').querySelector('.menu-item-name').textContent;
                
                document.getElementById('info-title').textContent = title;
                document.getElementById('info-content').textContent = info;
                infoModal.classList.add('active');
            }
        });

        // Добавление в корзину
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('add-to-cart-btn')) {
                const id = parseInt(e.target.dataset.id);
                const category = e.target.dataset.category;
                
                // Находим товар в данных меню
                let product = null;
                for (const cat in menuData) {
                    const found = menuData[cat].find(item => item.id === id);
                    if (found) {
                        product = found;
                        break;
                    }
                }
                
                if (product) {
                    // Для комбо набора добавляем без выбора размера
                    if (category === 'combo') {
                        addToCart({
                            id: product.id,
                            name: product.name,
                            price: product.price,
                            size: 'Комбо',
                            options: product.options ? product.options[0] : ''
                        });
                    } else {
                        // Для остальных товаров открывается модальное окно выбора размера и добавок
                        openAddToCartModal(product, category);
                    }
                }
            }
        });

        // Функция открытия модального окна добавления в корзину
        function openAddToCartModal(product, category) {
            // Модальное окно для выбора размера и добавок
            const modal = document.createElement('div');
            modal.className = 'modal active';
            modal.id = 'add-to-cart-modal';
            
            let sizesHTML = '';
            if (product.sizes) {
                product.sizes.forEach((size, index) => {
                    sizesHTML += `
                        <div class="size-option-select">
                            <input type="radio" id="size-${product.id}-${index}" name="size" value="${size.name}" data-price="${size.price}" ${index === 0 ? 'checked' : ''}>
                            <label for="size-${product.id}-${index}">${size.name} - ${size.price} ₽</label>
                        </div>
                    `;
                });
            }
            
            let optionsHTML = '';
            if (product.options) {
                optionsHTML = `
                    <div class="form-group">
                        <label>Выберите вариант:</label>
                        <select class="form-control" id="product-option">
                            ${product.options.map(option => `<option value="${option}">${option}</option>`).join('')}
                        </select>
                    </div>
                `;
            }
            
            modal.innerHTML = `
                <div class="modal-content">
                    <span class="close-modal">&times;</span>
                    <h3 class="modal-title">${product.name}</h3>
                    <div class="form-group">
                        <label>Выберите размер:</label>
                        ${sizesHTML}
                    </div>
                    ${optionsHTML}
                    <div class="form-group">
                        <label>Добавки:</label>
                        <div class="addons-container">
                            <div class="addon-option">
                                <input type="checkbox" id="syrup-${product.id}" class="addon-checkbox" data-type="syrup" data-price="25">
                                <label for="syrup-${product.id}">Сироп (+25 ₽)</label>
                            </div>
                            <div class="addon-option">
                                <input type="checkbox" id="cream-${product.id}" class="addon-checkbox" data-type="cream" data-price="30">
                                <label for="cream-${product.id}">Взбитые сливки (+30 ₽)</label>
                            </div>
                            <div class="addon-option">
                                <input type="checkbox" id="marshmallow-${product.id}" class="addon-checkbox" data-type="marshmallow" data-price="15">
                                <label for="marshmallow-${product.id}">Маршмеллоу (+15 ₽)</label>
                            </div>
                            <div class="addon-option">
                                <input type="checkbox" id="milk-${product.id}" class="addon-checkbox" data-type="milk" data-price="90">
                                <label for="milk-${product.id}">Растительное молоко (+90 ₽)</label>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" id="confirm-add-to-cart">Добавить в корзину</button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Обработчики событий для модального окна
            modal.querySelector('.close-modal').addEventListener('click', () => {
                modal.remove();
            });
            
            modal.querySelector('#confirm-add-to-cart').addEventListener('click', () => {
                const selectedSize = modal.querySelector('input[name="size"]:checked');
                const selectedOption = modal.querySelector('#product-option') ? modal.querySelector('#product-option').value : '';
                const addons = [];
                
                // Выбранные добавки
                modal.querySelectorAll('.addon-checkbox:checked').forEach(checkbox => {
                    addons.push({
                        type: checkbox.dataset.type,
                        price: parseInt(checkbox.dataset.price)
                    });
                });
                
                if (selectedSize) {
                    addToCart({
                        id: product.id,
                        name: product.name,
                        price: parseInt(selectedSize.dataset.price),
                        size: selectedSize.value,
                        options: selectedOption,
                        addons: addons
                    });
                    
                    modal.remove();
                }
            });
            
            // Закрытие модального окна при клике вне его
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        // Функция добавления товара в корзину
        function addToCart(item) {
            cart.push(item);
            updateCart();
            
            // Уведомление о добавлении в корзину
            showNotification(`"${item.name}" добавлен в корзину`);
        }

        // Функция обновления корзины
        function updateCart() {
            cartCount = cart.length;
            cartTotal = cart.reduce((total, item) => {
                let itemTotal = item.price;
                if (item.addons) {
                    itemTotal += item.addons.reduce((addonTotal, addon) => addonTotal + addon.price, 0);
                }
                return total + itemTotal;
            }, 0);
            
            // Обновление счетчика корзины
            cartCountElement.textContent = cartCount;
            
            // Обновление содержимого корзины
            cartItemsContainer.innerHTML = '';
            
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p>Корзина пуста</p>';
            } else {
                cart.forEach((item, index) => {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    
                    let addonsText = '';
                    if (item.addons && item.addons.length > 0) {
                        addonsText = ` + ${item.addons.map(addon => {
                            switch(addon.type) {
                                case 'syrup': return 'сироп';
                                case 'cream': return 'сливки';
                                case 'marshmallow': return 'маршмеллоу';
                                case 'milk': return 'растительное молоко';
                                default: return '';
                            }
                        }).join(', ')}`;
                    }
                    
                    let itemTotal = item.price;
                    if (item.addons) {
                        itemTotal += item.addons.reduce((total, addon) => total + addon.price, 0);
                    }
                    
                    cartItem.innerHTML = `
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-details">${item.size}${item.options ? `, ${item.options}` : ''}${addonsText}</div>
                        </div>
                        <div class="cart-item-price">${itemTotal} ₽</div>
                        <button class="remove-from-cart" data-index="${index}"><i class="fas fa-times"></i></button>
                    `;
                    
                    cartItemsContainer.appendChild(cartItem);
                });
            }
            
            // Обновление общей суммы
            cartTotalElement.textContent = `${cartTotal} ₽`;
        }

        // Удаление из корзины
        cartItemsContainer.addEventListener('click', (e) => {
            if (e.target.closest('.remove-from-cart')) {
                const index = parseInt(e.target.closest('.remove-from-cart').dataset.index);
                cart.splice(index, 1);
                updateCart();
            }
        });

        // Инициализация при загрузке страницы
        document.addEventListener('DOMContentLoaded', () => {
            initMenu();
            initQuiz();
            initProfile();
            updateCart();
            
            // Обработчики для навигации
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = link.dataset.page;
                    showPage(page);
                });
            });
            
            // Обработчики для меню навигации
            menuNavItems.forEach(item => {
                item.addEventListener('click', () => {
                    const target = item.dataset.target;
                    activateMenuCategory(target);
                });
            });
            
            // Обработчики для кнопок
            goToMenuBtn.addEventListener('click', () => {
                showPage('menu');
            });
            
            loginBtn.addEventListener('click', () => {
                loginModal.classList.add('active');
            });
            
            logoutBtn.addEventListener('click', logoutUser);
            
            // Обработчики для модальных окон
            closeModalButtons.forEach(button => {
                button.addEventListener('click', () => {
                    cartModal.classList.remove('active');
                    orderModal.classList.remove('active');
                    infoModal.classList.remove('active');
                    loginModal.classList.remove('active');
                    
                    const addToCartModal = document.getElementById('add-to-cart-modal');
                    if (addToCartModal) {
                        addToCartModal.remove();
                    }
                });
            });
            
            // Обработчики для форм
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const phone = document.getElementById('phone').value;
                if (phone) {
                    loginUser(phone);
                }
            });
            
            orderForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const location = document.getElementById('pickup-location').value;
                const name = document.getElementById('customer-name').value;
                const time = document.getElementById('pickup-time').value;
                
                if (!location || !name || !time) {
                    showNotification('Заполните все поля');
                    return;
                }
                
                showNotification(`Заказ оформлен! Самовывоз: ${location}, ${time}`);
                
                // Очищение корзины
                cart = [];
                updateCart();
                
                // Закрытие модальных окон
                orderModal.classList.remove('active');
                cartModal.classList.remove('active');
                
                // Сбрасывание формы
                orderForm.reset();
            });
            
            // Обработчики для вкладок личного кабинета
            profileMenuLinks.forEach(link => {
                if (link.id !== 'logout-btn') {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const tab = link.dataset.tab;
                        
                        profileMenuLinks.forEach(l => l.classList.remove('active'));
                        link.classList.add('active');
                        
                        profileTabs.forEach(t => t.classList.remove('active'));
                        document.getElementById(`${tab}-tab`).classList.add('active');
                    });
                }
            });
            
            // Открытие корзины
            cartIcon.addEventListener('click', () => {
                cartModal.classList.add('active');
            });
            
            // Оформление заказа из корзины
            checkoutBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    showNotification('Корзина пуста');
                    return;
                }
                
                cartModal.classList.remove('active');
                orderModal.classList.add('active');
            });
        });
    </script>
</body>
</html>

